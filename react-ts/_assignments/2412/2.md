# "좌석 예매" 기능 구현하기

관람 좌석은 `일반석`, `머쓱박스석`, `장애인석`까지 총 3가지로 구분합니다.

- A1 ~ A13 과 B1 ~ B13 은 일반석입니다.
- C1 ~ C10 은 머쓱박스석입니다.
- C11 ~ C13 은 장애인석입니다.

## ✅ 2.1 관람 인원 선택하기

> 좌석을 선택하기 전, 관람할 인원을 선택합니다.
>
> - 관람 인원수가 `0`명인 경우 모든 좌석은 비활성화됩니다.
>
> - 관람 인원수가 `1`명 이상인 경우 모든 좌석은 활성화됩니다.
>   - 단, 관람 인원 및 좌석 조건에 따라 비활성화될 수 있으므로 아래의 요구사항을 잘 읽고 풀어주시길 바랍니다.

### 2.1.1 인원수 선택하기

![problem_2_1_1](https://user-images.githubusercontent.com/91870252/222647992-edce78a2-c6df-4bfe-878d-c3e4b68d0947.gif)

- 어른과 어린이/청소년의 경우 `0`명이 기본값으로 선택되어야 합니다.
- 어른과 어린이/청소년에서 최소 `0`명 이상, 최대 `8`명 이하로 인원을 선택할 수 있어야 합니다.
  - 단, 어른 및 어린이/청소년 각 항목에서 인원수를 중복으로 선택할 수 없습니다.
  - 예를 들어, 어른 `1`명, 어른 `3`명을 동시에 선택할 수 없습니다.
- 어른 및 어린이/청소년 인원 버튼을 클릭하면 해당 인원 버튼이 선택되었음을 나타내기 위해 버튼의 텍스트와 배경 색상이 변경되어야 합니다.
  - `style.css` 파일의 `toggle` 선택자를 활용하여 버튼이 선택되었을 때의 스타일을 적용합니다.
- 추후 관람 인원수를 변경해야하는 요구사항을 고려하여 구현합니다. (`2.2.4 관람 인원수 변경하기` 참고)

### 2.1.2 장애인 체크박스 체크하기

![problem_2_1_2-01](https://user-images.githubusercontent.com/91870252/222648094-75886a0f-4ce0-40f6-92d0-da85d420502e.gif)

- 장애인 체크 박스는 관람 인원수의 합이 `0`명인 경우에 '체크할 수 없음'이 기본값으로 설정되어야 합니다.
- 장애인 체크 박스는 관람 인원수의 합이 `1`명 이상일 때 활성화됩니다.
- 아래의 경우에 장애인 체크 박스를 체크할 수 없습니다.
  - 선택한 "어른"의 인원 수가 `4` 이상인 경우
  - 선택한 "어린이/청소년"의 인원 수가 `4` 이상인 경우
  - 선택한 "어른"과 "어린이/청소년"의 인원 수의 합이 `4` 이상 경우
- 장애인 체크 박스를 체크하면 일반석과 머쓱박스석은 모두 비활성화되며 체크 해제하면 원래대로 돌아옵니다.
- 장애인 체크 박스의 경우에는 `disabled` 속성을 활용하여 체크할 수 없도록 합니다.
- 관람 좌석의 경우에는 `style.css` 파일의 `disabled` 선택자를 활용하여 비활성화합니다.

![problem_2_1_2-02](https://user-images.githubusercontent.com/91870252/222648171-bbf6551a-ed12-4d9a-87e2-391d21363516.gif)

- 장애인 체크 박스 클릭 후 관람 인원을 `4`명 이상으로 변경하는 경우 상황에 맞는 다이얼로그 창(`window.alert`)이 나타납니다.
  - `머쓱관의 장애인 관람석은 3석으로, 3인 이하로 선택해주세요.` 라는 문구가 나타납니다.

## ✅ (심화) 2.2 관람 좌석 선택하기

> `2.1 관람 인원 선택하기`에서 선택한 관람 인원수만큼 원하는 위치의 좌석을 선택합니다.
>
> 모든 좌석의 경우, 아래와 같은 공통된 기능을 갖도록 구현합니다.
>
> - 연속된 좌석 선택 제한없이 모든 위치의 좌석을 무작위로 선택할 수 있습니다.
>   - 단, 좌석을 혼합하여 선택할 수 없습니다.
>   - 예를 들어, 어른 `2`명을 선택한 경우, 일반석 1좌석과 머쓱박스석 1좌석을 함께 선택할 수 없습니다.
> - 선택한 좌석을 다시 클릭함으로써 선택된 좌석을 취소할 수 있습니다.
> - 선택한 인원수만큼 좌석을 선택하면 선택된 좌석을 제외한 모든 좌석들이 비활성화됩니다.

### 2.2.1 일반석 선택하기

![problem_2_2_1](https://user-images.githubusercontent.com/91870252/222648241-db7e4209-ca2e-419c-b5f1-34e6ddcc376f.gif)

- `style.css` 파일의 `clicked` 선택자를 활용하여 일반석 선택 기능을 구현합니다.
- 일반석을 한 좌석이라도 선택하는 경우, 좌석 선택의 3가지 요소(`머쓱박스석`, `장애인석`, `장애인 체크 박스`)는 비활성화됩니다.
  - 좌석의 경우 `style.css` 파일의 `disabled` 선택자를 활용하여 비활성화합니다.
  - 장애인 체크 박스의 경우 `disabled` 속성을 활용하여 체크할 수 없도록 합니다.

### 2.2.2 머쓱박스석 선택하기

![problem_2_2_2-01](https://user-images.githubusercontent.com/91870252/222648571-4dadbd89-f41b-46b1-b9b5-f4254375c9d9.gif)

머쓱박스석은 관람 인원수가 짝수 단위로 선택되어 있는 경우에만 선택 가능합니다.

- `style.css` 파일의 `clicked` 선택자를 활용하여 머쓱박스석 선택 기능을 구현합니다.
- 머쓱박스석을 한 좌석이라도 선택하는 경우, 좌석 선택의 3가지 요소(`일반석`, `장애인석`, `장애인 체크 박스`)는 비활성화됩니다.
  - 좌석의 경우 `style.css` 파일의 `disabled` 선택자를 활용하여 비활성화합니다.
  - 장애인 체크 박스의 경우 `disabled` 속성을 활용하여 체크할 수 없도록 합니다.

![problem_2_2_2-02](https://user-images.githubusercontent.com/91870252/222648628-77be334b-d94f-46c3-afe1-beca1a5de815.gif)

- 아래의 경우, 머쓱박스석을 선택하면 `선택하신 ‘MUSSEUKBOX’ 좌석은 2인 좌석입니다. 2인 단위로 인원을 선택해주세요.` 문구의 다이얼로그 창(`window.alert`)이 나타납니다.
  - 선택한 “어른”의 인원 수가 홀수인 경우
  - 선택한 “어린이/청소년”의 인원 수가 홀수인 경우
  - 선택한 “어른”과 “어린이/청소년”의 인원 수의 합이 홀수인 경우

### 2.2.3 장애인석 선택하기

![problem_2_2_3](https://user-images.githubusercontent.com/91870252/222648797-ef0f23c4-11a3-4221-a108-68ec5d347c46.gif)

장애인석은 장애인 체크 박스가 체크되어 있으면서 관람 인원수가 `3`명 이하인 경우에만 선택 가능합니다.

- `style.css` 파일의 `clicked` 선택자를 활용하여 장애인석 선택 기능을 구현합니다.
- 아래의 경우, 장애인석은 비활성화됩니다.
  - 선택한 “어른”의 인원수가 `4` 이상인 경우
  - 선택한 “어린이/청소년” 인원수가 `4` 이상인 경우
  - 선택한 “어른”과 “어린이/청소년”의 인원수의 합이 `4` 이상인 경우
- 좌석의 경우 `style.css` 파일의 `disabled` 선택자를 활용하여 비활성화합니다.

장애인석 선택과 관련하여, 상황에 맞는 다이얼로그 창(`window.alert`)이 나타납니다.

- 장애인 체크 박스를 체크하지 않고 장애인석을 선택하는 경우, `선택하신 좌석은 장애인석으로 일반고객은 예매할 수 없는 좌석입니다.` 문구가 나타납니다.
- 장애인석 선택 후 장애인 체크 박스를 체크 해제하는 경우, `선택하신 좌석을 모두 취소하고 다시 선택하시겠습니까?` 문구가 나타나고 좌석 예매 페이지가 초기화됩니다.
  - 좌석 예매 페이지 초기화에 대한 내용은 `2.4 좌석 선택 초기화하기` 항목을 참고해 주세요.

### 2.2.4 관람 인원수 변경하기

![problem_2_2_4](https://user-images.githubusercontent.com/91870252/222648894-52022017-bc99-4a74-9a4a-da8b24c5c7c2.gif)

(위는 일반석에 대한 gif 예시입니다.)

- 일부 좌석 선택 후, 관람 인원수를 변경할 수 있습니다.
  - 관람 인원수를 선택된 좌석 수보다 많게 변경하는 경우, 좌석을 추가적으로 선택할 수 있습니다.
  - 관람 인원수를 선택된 좌석 수보다 적게 변경하는 경우, `선택하신 좌석을 모두 취소하고 다시 선택하시겠습니까?` 라는 문구의 다이얼로그 창(`window.alert`)이 나타납니다.

## ✅ 2.3 관람 좌석 정보 나타내기

> `2.1 관람 인원 선택하기`와 `2.2 관람 좌석 선택하기`에서 선택한 관람 인원과 좌석에 대한 정보를 나타냅니다.

![problem_2_3](https://user-images.githubusercontent.com/91870252/222648962-c9df38af-9295-4879-9805-9604ba9c7cf0.gif)

(위는 일반석에 대한 gif 예시입니다.)

### 2.3.1 잔여 좌석 나타내기

좌석을 선택했을 때, 선택한 좌석 수만큼 차감된 잔여 좌석 정보를 위의 gif 예시와 같이 나타냅니다.

### 2.3.2 관람 가격 나타내기

선택한 좌석의 가격을 합산한 금액 정보를 위의 gif 예시와 같이 나타냅니다.

관람 가격은 다음과 같습니다.
| 어른 | 어린이/청소년 | 장애인 |
| :---------------------: | :---------------------: | :---------------------: |
| 10,000원 | 7,000원 (3,000원 할인 적용) | 5,000원(장애인 우대 할인 적용)|

`*` 머쓱박스석을 선택하는 경우, 가격은 **어른**과 **어린이/청소년** 가격의 20% 할인을 적용하여 계산합니다.

- 어른과 어린이/청소년의 조합으로 좌석을 선택한 경우 금액은 항상 어른이 우선 적용됩니다.
  - 예시
    - 좌석 선택 (어른 2명 / 어린이/청소년 1명): 20,000원 + 7,000원 = 27,000원
    - 좌석 취소 (어른 2명): 27,000원 - 7,000원 = 20,000원

## ✅ 2.4 좌석 선택 초기화하기

> "좌석 선택 초기화" 버튼을 통해 관람 인원, 좌석, 잔여 좌석 및 금액 정보 모두 초기화합니다.

![problem_2_4](https://user-images.githubusercontent.com/91870252/222649022-af37dd7c-e26a-49c7-9df3-d8327559b89f.gif)

좌석 선택 초기화와 관련하여, 상황에 맞는 다이얼로그 창(`window.alert`)이 나타납니다.

- "좌석 선택 초기화" 버튼을 클릭하면 사용자에게 의사를 한번 더 확인하기 위한 `선택하신 좌석을 모두 취소하고 다시 선택하시겠습니까?` 문구가 나타납니다.
- 다이얼로그 창의 '확인' 버튼을 클릭하면 관람 인원, 좌석, 잔여좌석 및 금액 정보가 아래와 같이 초기화됩니다.
  - 관람 인원의 경우, 어른과 어린이/청소년 모두 `0`으로 초기화되며 장애인 체크박스는 비활성화됩니다.
  - 관람 좌석은 모두 비활성화됩니다.
  - 잔여 좌석은 `39`석으로 초기화됩니다.
  - 관람 금액은 `0`원으로 초기화됩니다.
